<UserControl x:Class="Flarial.Launcher.Styles.DialogBox"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:Flarial.Launcher.Styles"
             mc:Ignorable="d"
             d:DesignHeight="300" d:DesignWidth="550">
    <UserControl.Resources>
        <Style x:Key="ButtonListViewItemStyle" TargetType="ListViewItem">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="Margin" Value="0,0,10,0"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="VerticalContentAlignment" Value="Stretch"/>
            <Setter Property="Focusable" Value="False"/> <!-- Optional: disables keyboard focus highlight -->
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListViewItem">
                        <ContentPresenter/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>
    <Grid Background="#2f000000">
        <Border CornerRadius="25" Padding="15" Background="#201A1B" MinHeight="250" MinWidth="400" MaxWidth="600" HorizontalAlignment="Center" VerticalAlignment="Center">
            <Border.Effect>
                <DropShadowEffect BlurRadius="25" ShadowDepth="0" Opacity="0.75"/>
            </Border.Effect>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <Grid Grid.Row="0" HorizontalAlignment="Left" Margin="0,0,0,0">
                    <TextBlock Margin="0,0,0,7.5" Name="TitleTextBlock" HorizontalAlignment="Left" FontFamily="pack://application:,,,/Assets/#Space Grotesk" Text="Version Not Supported!" Foreground="White" FontSize="22" FontWeight="SemiBold"/>
                    <Border VerticalAlignment="Bottom" Background="#FF2438" Height="3" />
                </Grid>
                
                <TextBlock Name="DescriptionTextBlock" Grid.Row="1" Margin="0,10,0,0" HorizontalAlignment="Left" TextWrapping="Wrap" FontFamily="pack://application:,,,/Assets/#Space Grotesk" Text="Your version of Minecraft isn't supported by the client, however the beta release of Flarial Client does support your version, would you like to enable beta? (crashes or other bugs may be more prevalent)" Foreground="White" FontSize="16" FontWeight="Normal"/>
                
                <StackPanel Grid.Row="2" Orientation="Horizontal" Name="ButtonsStackPanel">
                    <StackPanel.Resources>
                        <Style TargetType="Button">
                            <Setter Property="Margin" Value="0,0,10,0"/>
                            <Setter Property="Cursor" Value="Hand"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" CornerRadius="10" RenderTransformOrigin="0.5,0.5" x:Name="MainBorder">
                                            <Grid>
                                                <Border CornerRadius="10">
                                                    <Border.Background>
                                                        <SolidColorBrush Color="White" Opacity="0.0" x:Name="HoverBrush"/>
                                                    </Border.Background>
                                                </Border>
                                                <TextBlock x:Name="LaunchText" Margin="15,10,15,10" Text="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=(Button.Content)}" FontWeight="Medium" 
                                                           HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="16" 
                                                           Foreground="#ffffff" FontFamily="pack://application:,,,/Assets/#Space Grotesk"/>
                                            </Grid>
                                            <Border.RenderTransform>
                                                <ScaleTransform ScaleX="1" ScaleY="1" x:Name="ScaleTransform"/>
                                            </Border.RenderTransform>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <!-- Pressed State -->
                                            <Trigger Property="Button.IsPressed" Value="True">
                                                <Trigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Duration="0:0:0.1" To="0.9" 
                                                                             Storyboard.TargetName="ScaleTransform" 
                                                                             Storyboard.TargetProperty="ScaleX"/>
                                                            <DoubleAnimation Duration="0:0:0.1" To="0.9" 
                                                                             Storyboard.TargetName="ScaleTransform" 
                                                                             Storyboard.TargetProperty="ScaleY"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </Trigger.EnterActions>
                                                <Trigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Duration="0:0:0.1" To="1" 
                                                                             Storyboard.TargetName="ScaleTransform" 
                                                                             Storyboard.TargetProperty="ScaleX"/>
                                                            <DoubleAnimation Duration="0:0:0.1" To="1" 
                                                                             Storyboard.TargetName="ScaleTransform" 
                                                                             Storyboard.TargetProperty="ScaleY"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </Trigger.ExitActions>
                                            </Trigger>

                                            <!-- Hover State (only when enabled) -->
                                            <MultiTrigger>
                                                <MultiTrigger.Conditions>
                                                    <Condition Property="IsMouseOver" Value="True"/>
                                                    <Condition Property="IsEnabled" Value="True"/>
                                                </MultiTrigger.Conditions>
                                                <MultiTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Duration="0:0:0.1" To="0.1" 
                                                                             Storyboard.TargetName="HoverBrush" 
                                                                             Storyboard.TargetProperty="Opacity"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiTrigger.EnterActions>
                                                <MultiTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Duration="0:0:0.1" To="0.0" 
                                                                             Storyboard.TargetName="HoverBrush" 
                                                                             Storyboard.TargetProperty="Opacity"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiTrigger.ExitActions>
                                            </MultiTrigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </StackPanel.Resources>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>
